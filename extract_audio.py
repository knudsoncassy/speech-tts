import os from moviepy.editor import VideoFileClip from pathlib import Path DATA_DIR = Path(__file__).resolve().parent.parent / "data" MP4_DIR = DATA_DIR / "mp4" WAV_DIR = DATA_DIR / "wavs" WAV_DIR.mkdir(parents=True, exist_ok=True) def extract_audio(): for mp4_file in MP4_DIR.glob("*.mp4"): wav_path = WAV_DIR / (mp4_file.stem + ".wav") if wav_path.exists(): continue print(f"[+] Extracting audio from {mp4_file.name}") clip = VideoFileClip(str(mp4_file)) clip.audio.write_audiofile(str(wav_path), fps=16000, codec="pcm_s16le") clip.close() if __name__ == "__main__": extract_audio()
